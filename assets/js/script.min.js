jQuery(window).load(function(){window.STB=function(a){function b(a,b){var c=e[a];if(void 0===c)return void f.log("Scroll Triggered Boxes: Box #"+a+" is not present in the current page.");if(c.is(":animated"))return!1;if(b===!0&&c.is(":visible")||b===!1&&c.is(":hidden"))return!1;var d=c.data("animation");return"fade"===d?c.fadeToggle("slow"):c.slideToggle("slow"),b}var c=a(window).height(),d=a("body").hasClass("logged-in"),e=[],f=window.console||{log:function(){}};return a(".stb-content").children().first().css({"margin-top":0,"padding-top":0}).end().last().css({"margin-bottom":0,"padding-bottom":0}),a(".scroll-triggered-box").each(function(){var g=a(this),h=g.data("trigger"),i=(g.data("animation"),0),j=1===parseInt(g.data("test-mode")),k=g.data("box-id"),l=1===parseInt(g.data("auto-hide"));if(e[k]=g,"element"==h){var m=g.data("trigger-element"),n=a(m);if(0==n.length)return void f.info("Scroll Triggered Boxes: Can't find element \""+m+'". Not showing box.');var o=n.offset().top}else var p="percentage"==h?parseInt(g.data("trigger-percentage"),10)/100:.8,o=p*a(document).height();var q=function(){i&&clearTimeout(i),i=window.setTimeout(function(){var d=a(window).scrollTop(),e=d+c>=o;e?(l||a(window).unbind("scroll",q),b(k,!0)):b(k,!1)},100)},r="true"===document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*stb_box_"+k+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"),s=r===!1;if(!0===d&&!0===j&&(s=!0,f.log("Scroll Triggered Boxes: Test mode is enabled. Please disable test mode if you're done testing.")),s&&(a(window).bind("scroll",q),q(),window.location.hash&&window.location.hash.length>0)){var t,u=window.location.hash;(u.substring(1)===g.attr("id")||(t=g.find(u))&&t.length>0)&&setTimeout(function(){b(k,!0)},100)}g.find(".stb-close").click(function(){b(k,!1),a(window).unbind("scroll",q);var c=parseInt(g.data("cookie"));if(c>0){var d=new Date;d.setDate(d.getDate()+c),document.cookie="stb_box_"+k+"=true; expires="+d.toUTCString()+"; path=/"}}),a('a[href="#'+g.attr("id")+'"]').click(function(){return b(k,!0),!1})}),{show:function(a){return b(a,!0)},hide:function(a){return b(a,!1)}}}(window.jQuery)});