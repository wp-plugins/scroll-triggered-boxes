STB=function(a){function b(){switch($context=a(this).parents("tr"),a("tr.stb-manual-tip").hide(),$valueInput=$context.find(".stb-rule-value"),$valueInput.show(),a(this).val()){case"":default:$valueInput.attr("placeholder","Leave empty to match anything or enter a comma-separated list of IDs or slugs");break;case"everywhere":$valueInput.hide();break;case"is_single":$valueInput.attr("placeholder","Leave empty to match any post or enter a comma-separated list of post IDs or slugs");break;case"is_page":$valueInput.attr("placeholder","Leave empty to match any page or enter a comma-separated list of page IDs or slugs");break;case"is_page":$valueInput.attr("placeholder","Leave empty to match any page or enter a comma-separated list of page IDs or slugs");break;case"is_post_type":$valueInput.attr("placeholder","Leave empty to match any post type or enter a comma-separated list of post type names");break;case"manual":$valueInput.attr("placeholder","Example: is_single(1, 3)"),a("tr.stb-manual-tip").show()}}function c(){var b=a("#stb-options .stb-rule-row").last(),c=b.clone();return c.find("th > label").text("Or"),c.insertAfter(b).find(":input").val("").each(function(){this.name=this.name.replace(/\[(\d+)\]/,function(a,b){return"["+(parseInt(b,10)+1)+"]"})}).trigger("change"),!1}function d(a,b){return a.val()?parseInt(a.val()):void 0!==b?b+"px":0}function e(a,b){return a.val().length>0?a.wpColorPicker("color"):void 0!==b?b:""}function f(){var b=a("#content_ifr").contents().find("html");b.css({background:"white"}),b.find("#tinymce").css({padding:"25px","background-color":e(a("#stb-background-color")),"border-color":e(a("#stb-border-color")),"border-width":d(a("#stb-border-width")),"border-style":"solid",display:"inline-block",width:d(a("#stb-width"),"auto"),color:e(a("#stb-color")),height:"auto","min-width":"200px"})}return a("body").css("overflow-y","scroll"),a("#stb-options .inside").show(),a("#stb-options input.stb-color-field").wpColorPicker({change:f,clear:f}),a("#stb-options :input").not(".stb-color-field").change(f),a("#stb-options").delegate(".stb-add-rule","click",c),a("#stb-options").delegate(".stb-remove-rule","click",function(){a(this).parents("tr").remove()}),a("#stb-options").delegate(".stb-rule-condition","change",b),a("#stb_trigger").change(function(){a(this).parents("tr").find("input").hide().end().find("input.stb-trigger-"+a(this).val()).show()}),{onTinyMceInit:function(){f()}}}(jQuery);